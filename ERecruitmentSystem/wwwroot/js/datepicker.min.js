(function(){"use strict";void 0===Date.dp_locales&&(Date.dp_locales={texts:{buttonTitle:"Select date ...",buttonLabel:"Click or press the Enter key or the spacebar to open the calendar",prevButtonLabel:"Go to previous month",prevMonthButtonLabel:"Go to the previous year",prevYearButtonLabel:"Go to the previous twenty years",nextButtonLabel:"Go to next month",nextMonthButtonLabel:"Go to the next year",nextYearButtonLabel:"Go to the next twenty years",changeMonthButtonLabel:"Click or press the Enter key or the spacebar to change the month",changeYearButtonLabel:"Click or press the Enter key or the spacebar to change the year",changeRangeButtonLabel:"Click or press the Enter key or the spacebar to go to the next twenty years",closeButtonTitle:"Close",closeButtonLabel:"Close the calendar",calendarHelp:"- Up Arrow and Down Arrow - goes to the same day of the week in the previous or next week respectively. If the end of the month is reached, continues into the next or previous month as appropriate.\r\n- Left Arrow and Right Arrow - advances one day to the next, also in a continuum. Visually focus is moved from day to day and wraps from row to row in the grid of days.\r\n- Control+Page Up - Moves to the same date in the previous year.\r\n- Control+Page Down - Moves to the same date in the next year.\r\n- Home - Moves to the first day of the current month.\r\n- End - Moves to the last day of the current month.\r\n- Page Up - Moves to the same date in the previous month.\r\n- Page Down - Moves to the same date in the next month.\r\n- Enter or Espace - closes the calendar, and the selected date is shown in the associated text box.\r\n- Escape - closes the calendar without any action."},directionality:"LTR",month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],month_names_abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],month_names_narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_names_abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],day_names_short:["Su","Mo","Tu","We","Th","Fr","Sa"],day_names_narrow:["S","M","T","W","T","F","S"],day_periods:{am:"AM",noon:"noon",pm:"PM"},day_periods_abbreviated:{am:"AM",noon:"noon",pm:"PM"},day_periods_narrow:{am:"a",noon:"n",pm:"p"},quarter_names:["1st quarter","2nd quarter","3rd quarter","4th quarter"],quarter_names_abbreviated:["Q1","Q2","Q3","Q4"],quarter_names_narrow:["1","2","3","4"],era_names:["Before Christ","Anno Domini"],era_names_abbreviated:["BC","AD"],era_names_narrow:["B","A"],full_format:"EEEE, MMMM d, y",long_format:"MMMM d, y",medium_format:"MMM d, y",short_format:"M/d/yy",firstday_of_week:0})})(),function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof exports)t(require("jquery"));else{if("undefined"==typeof jQuery)throw new Error("Datepicker's JavaScript requires jQuery");t(jQuery)}}(function(t,e){"use strict";var a,i=['<a class="datepicker-button bootstrap3 input-group-addon btn" role="button" aria-haspopup="true" tabindex="0" aria-labelledby="datepicker-bn-open-label-CALENDARID">','\t<span class="icon-calendar" title="Select Date..."></span>',"</a>"],s=['<div class="datepicker-calendar bootstrap3" id="datepicker-calendar-CALENDARID" aria-hidden="false">','\t<div class="datepicker-month-wrap">','\t\t<div class="datepicker-button datepicker-month-fast-next pull-right" role="button" aria-labelledby="datepicker-bn-fast-next-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-forward"></span></div>','\t\t<div class="datepicker-button datepicker-month-next pull-right" role="button" aria-labelledby="datepicker-bn-next-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-triangle-right"></span></div>','\t\t<div class="datepicker-button datepicker-month-fast-prev pull-left" role="button" aria-labelledby="datepicker-bn-fast-prev-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-backward"></span></div>','\t\t<div class="datepicker-button datepicker-month-prev pull-left" role="button" aria-labelledby="datepicker-bn-prev-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-triangle-left"></span></div>','\t\t<div id="datepicker-month-CALENDARID" class="datepicker-button datepicker-month" tabindex="0" role="heading" aria-live="assertive" aria-atomic="true" title="Click or press the Enter key or the spacebar to change the month">July 2015</div>',"\t</div>",'\t<table class="datepicker-grid" role="grid" aria-readonly="true" aria-activedescendant="datepicker-err-msg-CALENDARID" aria-labelledby="datepicker-month-CALENDARID" tabindex="0">','\t\t<thead role="presentation">','\t\t\t<tr class="datepicker-weekdays" role="row">','\t\t\t\t<th scope="col" id="day0-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Sunday"><abbr title="Sunday">Su</abbr></th>','\t\t\t\t<th scope="col" id="day1-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Monday"><abbr title="Monday">Mo</abbr></th>','\t\t\t\t<th scope="col" id="day2-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Tuesday"><abbr title="Tuesday">Tu</abbr></th>','\t\t\t\t<th scope="col" id="day3-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Wednesday"><abbr title="Wednesday">We</abbr></th>','\t\t\t\t<th scope="col" id="day4-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Thursday"><abbr title="Thursday">Th</abbr></th>','\t\t\t\t<th scope="col" id="day5-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Friday"><abbr title="Friday">Fr</abbr></th>','\t\t\t\t<th scope="col" id="day6-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Saturday"><abbr title="Saturday">Sa</abbr></th>',"\t\t\t</tr>","\t\t</thead>",'\t\t<tbody role="presentation">',"\t\t\t<tr>",'\t\t\t\t<th id="datepicker-err-msg-CALENDARID" colspan="7">Javascript must be enabled</th>',"\t\t\t</tr>","\t\t</tbody>","\t</table>",'\t<div class="datepicker-close-wrap">','\t\t<button class="datepicker-button datepicker-close" id="datepicker-close-CALENDARID" aria-labelledby="datepicker-bn-close-label-CALENDARID">Close</button>',"\t</div>",'\t<div id="datepicker-bn-open-label-CALENDARID" class="datepicker-bn-open-label offscreen">Click or press the Enter key or the spacebar to open the calendar</div>','\t<div id="datepicker-bn-prev-label-CALENDARID" class="datepicker-bn-prev-label offscreen">Go to previous month</div>','\t<div id="datepicker-bn-next-label-CALENDARID" class="datepicker-bn-next-label offscreen">Go to next month</div>','\t<div id="datepicker-bn-fast-prev-label-CALENDARID" class="datepicker-bn-fast-prev-label offscreen">Go to previous year</div>','\t<div id="datepicker-bn-fast-next-label-CALENDARID" class="datepicker-bn-fast-next-label offscreen">Go to next year</div>','\t<div id="datepicker-bn-close-label-CALENDARID" class="datepicker-bn-close-label offscreen">Close the date picker</div>',"</div>"],r=['<a class="datepicker-button bootstrap4 input-group-append" role="button" aria-haspopup="true" tabindex="0" aria-labelledby="datepicker-bn-open-label-CALENDARID">','\t<span class="input-group-text"><i class="far fa-calendar-alt" title="Select Date..."></i></span>',"</a>"],n=['<div class="datepicker-calendar bootstrap4" id="datepicker-calendar-CALENDARID" aria-hidden="false">','\t<div class="datepicker-month-wrap">','\t\t<div class="datepicker-button datepicker-month-fast-next float-right" role="button" aria-labelledby="datepicker-bn-fast-next-label-CALENDARID" tabindex="0"><i class="fas fa-forward"></i></div>','\t\t<div class="datepicker-button datepicker-month-next float-right" role="button" aria-labelledby="datepicker-bn-next-label-CALENDARID" tabindex="0"><i class="fas fa-caret-right"></i></div>','\t\t<div class="datepicker-button datepicker-month-fast-prev float-left" role="button" aria-labelledby="datepicker-bn-fast-prev-label-CALENDARID" tabindex="0"><i class="fas fa-backward"></i></div>','\t\t<div class="datepicker-button datepicker-month-prev float-left" role="button" aria-labelledby="datepicker-bn-prev-label-CALENDARID" tabindex="0"><i class="fas fa-caret-left"></i></div>','\t\t<div id="datepicker-month-CALENDARID" class="datepicker-button datepicker-month" tabindex="0" role="heading" aria-live="assertive" aria-atomic="true" title="Click or press the Enter key or the spacebar to change the month">July 2015</div>',"\t</div>",'\t<table class="datepicker-grid" role="grid" aria-readonly="true" aria-activedescendant="datepicker-err-msg-CALENDARID" aria-labelledby="datepicker-month-CALENDARID" tabindex="0">','\t\t<thead role="presentation">','\t\t\t<tr class="datepicker-weekdays" role="row">','\t\t\t\t<th scope="col" id="day0-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Sunday"><abbr title="Sunday">Su</abbr></th>','\t\t\t\t<th scope="col" id="day1-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Monday"><abbr title="Monday">Mo</abbr></th>','\t\t\t\t<th scope="col" id="day2-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Tuesday"><abbr title="Tuesday">Tu</abbr></th>','\t\t\t\t<th scope="col" id="day3-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Wednesday"><abbr title="Wednesday">We</abbr></th>','\t\t\t\t<th scope="col" id="day4-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Thursday"><abbr title="Thursday">Th</abbr></th>','\t\t\t\t<th scope="col" id="day5-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Friday"><abbr title="Friday">Fr</abbr></th>','\t\t\t\t<th scope="col" id="day6-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Saturday"><abbr title="Saturday">Sa</abbr></th>',"\t\t\t</tr>","\t\t</thead>",'\t\t<tbody role="presentation">',"\t\t\t<tr>",'\t\t\t\t<th id="datepicker-err-msg-CALENDARID" colspan="7">Javascript must be enabled</th>',"\t\t\t</tr>","\t\t</tbody>","\t</table>",'\t<div class="datepicker-close-wrap">','\t\t<button class="datepicker-button datepicker-close" id="datepicker-close-CALENDARID" aria-labelledby="datepicker-bn-close-label-CALENDARID">Close</button>',"\t</div>",'\t<div id="datepicker-bn-open-label-CALENDARID" class="datepicker-bn-open-label offscreen">Click or press the Enter key or the spacebar to open the calendar</div>','\t<div id="datepicker-bn-prev-label-CALENDARID" class="datepicker-bn-prev-label offscreen">Go to previous month</div>','\t<div id="datepicker-bn-next-label-CALENDARID" class="datepicker-bn-next-label offscreen">Go to next month</div>','\t<div id="datepicker-bn-fast-prev-label-CALENDARID" class="datepicker-bn-fast-prev-label offscreen">Go to previous year</div>','\t<div id="datepicker-bn-fast-next-label-CALENDARID" class="datepicker-bn-fast-next-label offscreen">Go to next year</div>','\t<div id="datepicker-bn-close-label-CALENDARID" class="datepicker-bn-close-label offscreen">Close the date picker</div>',"</div>"],o=function(e,a){var l,h,d=this;this.$target=t(e),this.options=t.extend({},o.DEFAULTS,a),this.locales=Date.dp_locales,this.startview(this.options.startView),"string"==typeof this.options.inputFormat&&(this.options.inputFormat=[this.options.inputFormat]),t.isArray(this.options.datesDisabled)||(this.options.datesDisabled=[this.options.datesDisabled]),t.each(this.options.datesDisabled,function(t,e){if("string"==typeof e){var a=d.parseDate(e);d.options.datesDisabled[t]=null===a?null:d.format(a)}else d.options.datesDisabled[t]=e instanceof Date&&!isNaN(e.valueOf())?d.format(e):null}),null!=this.options.min?this.options.min=this.parseDate(this.options.min):this.$target.attr("min")&&(this.options.min=this.parseDate(this.$target.attr("min"))),null!=this.options.max?this.options.max=this.parseDate(this.options.max):this.$target.attr("max")&&(this.options.max=this.parseDate(this.$target.attr("max"))),"string"==typeof this.options.previous?this.options.previous=t(this.options.previous):this.options.previous instanceof jQuery||(this.options.previous=null),"string"==typeof this.options.next?this.options.next=t(this.options.next):this.options.next instanceof jQuery||(this.options.next=null),this.id=this.$target.attr("id")||"datepicker-"+Math.floor(1e5*Math.random()),l=(l="bootstrap3"==this.options.markup?s.join(""):n.join("")).replace(/CALENDARID/g,this.id+""),0==this.$target.parent(".input-group").length&&this.$target.wrap('<div class="input-group"></div>'),this.$group=this.$target.parent(".input-group"),this.$target.attr("aria-autocomplete","none"),this.$target.css("min-width","7em"),this.$target.addClass("form-control"),this.$target.attr("placeholder")||this.$target.attr("placeholder",this.options.inputFormat[0]),h=(h="bootstrap3"==this.options.markup?i.join(""):r.join("")).replace(/CALENDARID/g,this.id+""),this.$button=t(h),this.$button.addClass(this.options.theme),this.$calendar=t(l),this.$calendar.addClass(this.options.theme),this.options.buttonLeft?this.$target.before(this.$button):this.$target.after(this.$button),"static"===this.$calendar.parent().css("position")&&this.$calendar.parent().css("position","relative"),this.$calendar.find(".datepicker-bn-open-label").html(this.options.buttonLabel),this.$target.attr("id")&&this.$calendar.attr("aria-controls",this.$target.attr("id")),this.$button.find("span").attr("title",this.options.buttonTitle),this.$calendar.css("left",this.$target.parent().position().left+"px"),this.$monthObj=this.$calendar.find(".datepicker-month"),this.$prev=this.$calendar.find(".datepicker-month-prev"),this.$next=this.$calendar.find(".datepicker-month-next"),this.$fastprev=this.$calendar.find(".datepicker-month-fast-prev"),this.$fastnext=this.$calendar.find(".datepicker-month-fast-next"),this.$grid=this.$calendar.find(".datepicker-grid"),"RTL"===this.locales.directionality&&this.$grid.addClass("rtl"),this.$grid.find("th.datepicker-day abbr"),this.drawCalendarHeader(),0==this.options.inline&&1==this.options.modal?(this.$close=this.$calendar.find(".datepicker-close"),this.$close.html(this.options.closeButtonTitle).attr("title",this.options.closeButtonLabel),this.$calendar.find(".datepicker-bn-close-label").html(this.options.closeButtonLabel)):(this.hideObject(this.$calendar.find(".datepicker-close-wrap")),this.hideObject(this.$calendar.find(".datepicker-bn-close-label"))),0!=this.options.inline?(this.hideObject(this.$button),("string"==typeof this.options.inline?t("#"+this.options.inline):this.options.inline).append(this.$calendar),this.$calendar.css({position:"relative",left:"0px"}),this.initializeDate()):(this.$calendar.css({display:"none"}),this.$target.parent().after(this.$calendar),this.hide(!this.options.gainFocusOnConstruction)),this.keys={tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40},this.bindHandlers(),this.$button.click(function(e){return t(this).hasClass("disabled")||("true"===d.$calendar.attr("aria-hidden")?(d.initializeDate(),d.show()):d.hide(),d.selectGridCell(d.$grid.attr("aria-activedescendant"))),e.stopPropagation(),!1}),this.$button.keydown(function(e){var a=e||event;if(a.keyCode==d.keys.enter||a.keyCode==d.keys.space)return t(this).trigger("click"),!1}),this.$calendar.on("blur",function(){"false"===d.$calendar.attr("aria-hidden")&&d.hide()})};o.VERSION="2.1.17",o.DEFAULTS={firstDayOfWeek:Date.dp_locales.firstday_of_week,weekDayFormat:"short",startView:0,daysOfWeekDisabled:[],datesDisabled:[],isDateDisabled:null,isMonthDisabled:null,isYearDisabled:null,inputFormat:[Date.dp_locales.short_format],outputFormat:Date.dp_locales.short_format,titleFormat:Date.dp_locales.full_format,buttonLeft:!1,buttonTitle:Date.dp_locales.texts.buttonTitle,buttonLabel:Date.dp_locales.texts.buttonLabel,prevButtonLabel:Date.dp_locales.texts.prevButtonLabel,prevMonthButtonLabel:Date.dp_locales.texts.prevMonthButtonLabel,prevYearButtonLabel:Date.dp_locales.texts.prevYearButtonLabel,nextButtonLabel:Date.dp_locales.texts.nextButtonLabel,nextMonthButtonLabel:Date.dp_locales.texts.nextMonthButtonLabel,nextYearButtonLabel:Date.dp_locales.texts.nextYearButtonLabel,changeMonthButtonLabel:Date.dp_locales.texts.changeMonthButtonLabel,changeYearButtonLabel:Date.dp_locales.texts.changeYearButtonLabel,changeRangeButtonLabel:Date.dp_locales.texts.changeRangeButtonLabel,closeButtonTitle:Date.dp_locales.texts.closeButtonTitle,closeButtonLabel:Date.dp_locales.texts.closeButtonLabel,onUpdate:function(){},previous:null,next:null,markup:"bootstrap3",theme:"default",modal:!1,inline:!1,gainFocusOnConstruction:!0,min:null,max:null},o.prototype.initializeDate=function(){var t=this.$target.val(),e=""===t?new Date:this.parseDate(t);this.setDate(e,!0)},o.prototype.getDate=function(){var t=this.$target.val();return""===t?new Date:this.parseDate(t)},o.prototype.setDate=function(t,e){switch(this.dateObj=t,e=void 0!==e&&e,null==this.dateObj&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=new Date,this.dateObj.setHours(0,0,0,0)),null!=this.options.min&&this.dateObj<this.options.min?(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.min):null!=this.options.max&&this.dateObj>this.options.max&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.max),e&&""==this.$target.val()||this.$target.val(this.format(this.dateObj)),this.curYear=this.dateObj.getFullYear(),this.year=this.curYear,this.curMonth=this.dateObj.getMonth(),this.month=this.curMonth,this.date=this.dateObj.getDate(),this.options.startView){case 1:this.populateMonthsCalendar(),this.$grid.attr("aria-activedescendant",this.$grid.find(".curMonth").attr("id"));break;case 2:this.populateYearsCalendar(),this.$grid.attr("aria-activedescendant",this.$grid.find(".curYear").attr("id"));break;default:this.populateDaysCalendar(),this.$grid.attr("aria-activedescendant",this.$grid.find(".curDay").attr("id"))}},o.prototype.drawCalendarHeader=function(){for(var t=this.$grid.find("th.datepicker-day"),e=this.options.firstDayOfWeek,a=0;a<7;a++)t.eq(a).attr("aria-label",this.locales.day_names[e]),t.children("abbr").eq(a).attr("title",this.locales.day_names[e]).text("short"===this.options.weekDayFormat?this.locales.day_names_short[e]:this.locales.day_names_narrow[e]),e=(e+1)%7},o.prototype.populateDaysCalendar=function(){var e,a,i,s,r;this.$calendar.find(".datepicker-bn-prev-label").html(this.options.prevButtonLabel),this.$calendar.find(".datepicker-bn-next-label").html(this.options.nextButtonLabel),this.$calendar.find(".datepicker-bn-fast-prev-label").html(this.options.prevMonthButtonLabel),this.$calendar.find(".datepicker-bn-fast-next-label").html(this.options.nextMonthButtonLabel),null!=this.options.min&&(this.year-1<this.options.min.getFullYear()||this.year-1==this.options.min.getFullYear()&&this.month<this.options.min.getMonth())?(this.$fastprev.attr("title",""),this.$fastprev.addClass("disabled"),this.$fastprev.removeClass("enabled")):(this.$fastprev.attr("title",this.options.prevMonthButtonLabel),this.$fastprev.addClass("enabled"),this.$fastprev.removeClass("disabled")),e=this.previousMonth(this.year,this.month),null!=this.options.min&&(e.year<this.options.min.getFullYear()||e.year==this.options.min.getFullYear()&&e.month<this.options.min.getMonth())?(this.$prev.attr("title",""),this.$prev.addClass("disabled"),this.$prev.removeClass("enabled")):(this.$prev.attr("title",this.options.prevButtonLabel),this.$prev.addClass("enabled"),this.$prev.removeClass("disabled")),this.$monthObj.attr("title",this.options.changeMonthButtonLabel),a=this.nextMonth(this.year,this.month),null!=this.options.max&&(a.year>this.options.max.getFullYear()||a.year==this.options.max.getFullYear()&&a.month>this.options.max.getMonth())?(this.$next.attr("title",""),this.$next.addClass("disabled"),this.$next.removeClass("enabled")):(this.$next.attr("title",this.options.nextButtonLabel),this.$next.addClass("enabled"),this.$next.removeClass("disabled")),null!=this.options.max&&(this.year+1>this.options.max.getFullYear()||this.year+1==this.options.max.getFullYear()&&this.month>this.options.max.getMonth())?(this.$fastnext.attr("title",""),this.$fastnext.addClass("disabled"),this.$fastnext.removeClass("enabled")):(this.$fastnext.attr("title",this.options.nextMonthButtonLabel),this.$fastnext.addClass("enabled"),this.$fastnext.removeClass("disabled")),this.showObject(this.$fastprev),this.showObject(this.$fastnext);var n=this.getDaysInMonth(this.year,this.month),o=this.getDaysInMonth(e.year,e.month),l=new Date(this.year,this.month,1).getDay(),h=(this.options.firstDayOfWeek+6)%7,d=1,c=1;this.$monthObj.html(this.locales.month_names[this.month]+" "+this.year),this.showObject(this.$grid.find("thead"));for(var p='\t<tr id="row0-'+this.id+'" role="row">\n',u=0,b=this.options.firstDayOfWeek;b!=l;)u++,b=(b+1)%7;for(;u>0;u--)p+='\t\t<td class="empty">'+(o-u+1)+"</td>\n";for(i=this.options.isYearDisabled&&this.options.isYearDisabled(this.year),s=this.options.isMonthDisabled&&this.options.isMonthDisabled(this.year,this.month+1),d=1;d<=n;d++){var y=new Date(this.year,this.month,d,0,0,0,0),f=this.formatDate(y,this.options.titleFormat),m=d==this.date&&this.month==this.curMonth&&this.year==this.curYear?" curDay":"";p+=i||s?'\t\t<td id="cell'+d+"-"+this.id+'" class="day unselectable'+m+'"':t.inArray(b,this.options.daysOfWeekDisabled)>-1?'\t\t<td id="cell'+d+"-"+this.id+'" class="day unselectable'+m+'"':null!=this.options.min&&y<this.options.min?'\t\t<td id="cell'+d+"-"+this.id+'" class="day unselectable'+m+'"':null!=this.options.max&&y>this.options.max?'\t\t<td id="cell'+d+"-"+this.id+'" class="day unselectable'+m+'"':t.inArray(this.format(y),this.options.datesDisabled)>-1?'\t\t<td id="cell'+d+"-"+this.id+'" class="day unselectable'+m+'"':this.options.isDateDisabled&&this.options.isDateDisabled(y)?'\t\t<td id="cell'+d+"-"+this.id+'" class="day unselectable'+m+'"':'\t\t<td id="cell'+d+"-"+this.id+'" class="day selectable'+m+'"',p+=' data-value="'+d+'"',p+=' title="'+f+'"',p+=' aria-label="'+f+'"',p+=' headers="day'+b+"-header-"+this.id+'" role="gridcell" tabindex="-1" aria-selected="false">'+d,p+="</td>",b==h&&d<n&&(p+='\t</tr>\n\t<tr id="row'+c+"-"+this.id+'" role="row">\n',c++),d<n&&(b=(b+1)%7)}for(;b!=h;)p+='\t\t<td class="empty">'+ ++u+"</td>\n",b=(b+1)%7;p+="\t</tr>",(r=this.$grid.find("tbody")).empty(),r.append(p),this.gridType=0},o.prototype.populateMonthsCalendar=function(){var e,a;this.$calendar.find(".datepicker-bn-prev-label").html(this.options.prevMonthButtonLabel),this.$calendar.find(".datepicker-bn-next-label").html(this.options.nextMonthButtonLabel),this.hideObject(this.$fastprev),this.hideObject(this.$fastnext),null!=this.options.min&&this.year-1<this.options.min.getFullYear()?(this.$prev.attr("title",""),this.$prev.addClass("disabled"),this.$prev.removeClass("enabled")):(this.$prev.attr("title",this.options.prevMonthButtonLabel),this.$prev.addClass("enabled"),this.$prev.removeClass("disabled")),this.$monthObj.attr("title",this.options.changeYearButtonLabel),null!=this.options.max&&this.year+1>this.options.max.getFullYear()?(this.$next.attr("title",""),this.$next.addClass("disabled"),this.$next.removeClass("enabled")):(this.$next.attr("title",this.options.nextMonthButtonLabel),this.$next.addClass("enabled"),this.$next.removeClass("disabled"));var i=0,s=1,r=this.$grid.find("tbody");for(this.$monthObj.html(this.year),this.hideObject(this.$grid.find("thead")),r.empty(),t("#datepicker-err-msg-"+this.id).empty(),e='\t<tr id="row0-'+this.id+'" role="row">\n',a=this.options.isYearDisabled&&this.options.isYearDisabled(this.year),i=0;i<12;i++)e+=a?'\t\t<td id="cell'+(i+1)+"-"+this.id+'" class="month unselectable"':i==this.month&&this.year==this.curYear?'\t\t<td id="cell'+(i+1)+"-"+this.id+'" class="month curMonth selectable"':null!=this.options.min&&(this.year<this.options.min.getFullYear()||this.year==this.options.min.getFullYear()&&i<this.options.min.getMonth())?'\t\t<td id="cell'+(i+1)+"-"+this.id+'" class="month unselectable"':null!=this.options.max&&(this.year>this.options.max.getFullYear()||this.year==this.options.max.getFullYear()&&i>this.options.max.getMonth())?'\t\t<td id="cell'+(i+1)+"-"+this.id+'" class="month unselectable"':this.options.isMonthDisabled&&this.options.isMonthDisabled(this.year,i+1)?'\t\t<td id="cell'+(i+1)+"-"+this.id+'" class="month unselectable"':'\t\t<td id="cell'+(i+1)+"-"+this.id+'" class="month selectable"',e+=' data-value="'+i+'"',e+=' title="'+this.locales.month_names[i]+" "+this.year+'"',e+=' aria-label="'+this.locales.month_names[i]+" "+this.year+'"',e+=' role="gridcell" tabindex="-1" aria-selected="false">'+this.locales.month_names_abbreviated[i],e+="</td>",(3==i||7==i)&&(e+='\t</tr>\n\t<tr id="row'+s+"-"+this.id+'" role="row">\n',s++);e+="\t</tr>",r.append(e),this.gridType=1},o.prototype.populateYearsCalendar=function(){var e,a,i;this.$calendar.find(".datepicker-bn-prev-label").html(this.options.prevYearButtonLabel),this.$calendar.find(".datepicker-bn-next-label").html(this.options.nextYearButtonLabel),this.hideObject(this.$fastprev),this.hideObject(this.$fastnext),null!=this.options.min&&this.year-20<this.options.min.getFullYear()?(this.$prev.attr("title",""),this.$prev.addClass("disabled"),this.$prev.removeClass("enabled")):(this.$prev.attr("title",this.options.prevYearButtonLabel),this.$prev.addClass("enabled"),this.$prev.removeClass("disabled")),this.$monthObj.attr("title",this.options.changeRangeButtonLabel),null!=this.options.max&&this.year+20>this.options.max.getFullYear()?(this.$next.attr("title",""),this.$next.addClass("disabled"),this.$next.removeClass("enabled")):(this.$next.attr("title",this.options.nextYearButtonLabel),this.$next.addClass("enabled"),this.$next.removeClass("disabled"));var s=10*Math.floor(this.year/10),r=s+19,n=1,o=this.$grid.find("tbody");for(this.$monthObj.html(s+"-"+r),this.hideObject(this.$grid.find("thead")),o.empty(),t("#datepicker-err-msg-"+this.id).empty(),e='\t<tr id="row0-'+this.id+'" role="row">\n',a=s;a<=r;a++)e+=a==this.year?'\t\t<td id="cell'+(a-s+1)+"-"+this.id+'" class="year curYear selectable"':null!=this.options.min&&a<this.options.min.getFullYear()?'\t\t<td id="cell'+(a-s+1)+"-"+this.id+'" class="year unselectable"':null!=this.options.max&&a>this.options.max.getFullYear()?'\t\t<td id="cell'+(a-s+1)+"-"+this.id+'" class="year unselectable"':this.options.isYearDisabled&&this.options.isYearDisabled(a)?'\t\t<td id="cell'+(a-s+1)+"-"+this.id+'" class="year unselectable"':'\t\t<td id="cell'+(a-s+1)+"-"+this.id+'" class="year selectable"',e+=' data-value="'+a+'"',e+=' title="'+a+'"',e+=' role="gridcell" tabindex="-1" aria-selected="false">'+a,e+="</td>",(4==(i=a-s)||9==i||14==i)&&(e+='\t</tr>\n\t<tr id="row'+n+"-"+this.id+'" role="row">\n',n++);e+="\t</tr>",o.append(e),this.gridType=2},o.prototype.showDaysOfPrevMonth=function(t){var e,a,i=this.previousMonth(this.year,this.month);if(null!=this.options.min&&(i.year<this.options.min.getFullYear()||i.year==this.options.min.getFullYear()&&i.month<this.options.min.getMonth()))return!1;if(this.month=i.month,this.year=i.year,this.populateDaysCalendar(),null!=t){for(t=(e=this.$grid.find("td")).length-t;t>=0&&!e.eq(t).hasClass("selectable");)t--;t>=0&&(a=e.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a))}return!0},o.prototype.showDaysOfMonth=function(t){if(null!=this.options.min&&(this.year<this.options.min.getFullYear()||this.year==this.options.min.getFullYear()&&t<this.options.min.getMonth())||null!=this.options.max&&(this.year>this.options.max.getFullYear()||this.year==this.options.max.getFullYear()&&t>this.options.max.getMonth()))return!1;this.month=t,this.date=Math.min(this.date,this.getDaysInMonth(this.year,this.month)),this.populateDaysCalendar();var e=this.$grid.find("tbody td[data-value='"+this.date+"']");return this.selectGridCell(e.attr("id")),!0},o.prototype.showMonthsOfPrevYear=function(t){var e,a;if(null!=this.options.min&&this.year-1<this.options.min.getFullYear())return!1;if(this.year--,this.populateMonthsCalendar(),null!=t){for(t=(e=this.$grid.find("td")).length-t;t>=0&&!e.eq(t).hasClass("selectable");)t--;t>=0&&(a=e.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a))}return!0},o.prototype.showMonthsOfYear=function(t){if(null!=this.options.min&&t<this.options.min.getFullYear()||null!=this.options.max&&t>this.options.max.getFullYear())return!1;this.year=t,this.populateMonthsCalendar();var e=this.$grid.find("tbody td[data-value='"+this.month+"']");return this.$grid.attr("aria-activedescendant",e.attr("id")),this.selectGridCell(e.attr("id")),!0},o.prototype.showYearsOfPrevRange=function(t){var e,a;if(null!=this.options.min&&this.year-20<this.options.min.getFullYear())return!1;if(this.year-=20,this.populateYearsCalendar(),null!=t){for(t=(e=this.$grid.find("td")).length-t;t>=0&&!e.eq(t).hasClass("selectable");)t--;t>=0&&(a=e.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a))}return!0},o.prototype.showDaysOfNextMonth=function(t){var e,a,i=this.nextMonth(this.year,this.month);if(null!=this.options.max&&(i.year>this.options.max.getFullYear()||i.year==this.options.max.getFullYear()&&i.month>this.options.max.getMonth()))return!1;if(this.month=i.month,this.year=i.year,this.populateDaysCalendar(),null!=t){for(e=this.$grid.find("td"),t--;t<e.length&&!e.eq(t).hasClass("selectable");)t++;t<e.length&&(a=e.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a))}return!0},o.prototype.showMonthsOfNextYear=function(t){var e,a;if(null!=this.options.max&&this.year+1>this.options.max.getFullYear())return!1;if(this.year++,this.populateMonthsCalendar(),null!=t){for(e=this.$grid.find("td"),t--;t<e.length&&!e.eq(t).hasClass("selectable");)t++;t<e.length&&(a=e.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a))}return!0},o.prototype.showYearsOfNextRange=function(t){var e,a;if(null!=this.options.max&&this.year+20>this.options.max.getFullYear())return!1;if(this.year+=20,this.populateYearsCalendar(),null!=t){for(e=this.$grid.find("td"),t--;t<e.length&&!e.eq(t).hasClass("selectable");)t++;t<e.length&&(a=e.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a))}return!0},o.prototype.showDaysOfPrevYear=function(){return(null==this.options.min||!(this.year-1<this.options.min.getFullYear()||this.year-1==this.options.min.getFullYear()&&this.month<this.options.min.getMonth()))&&(this.year--,this.populateDaysCalendar(),!0)},o.prototype.showDaysOfNextYear=function(){return(null==this.options.max||!(this.year+1>this.options.max.getFullYear()||this.year+1==this.options.max.getFullYear()&&this.month>this.options.max.getMonth()))&&(this.year++,this.populateDaysCalendar(),!0)},o.prototype.bindHandlers=function(){var e=this;this.$fastprev.click(function(t){return e.handleFastPrevClick(t)}),this.$prev.click(function(t){return e.handlePrevClick(t)}),this.$next.click(function(t){return e.handleNextClick(t)}),this.$fastnext.click(function(t){return e.handleFastNextClick(t)}),this.$monthObj.click(function(t){return e.handleMonthClick(t)}),this.$monthObj.keydown(function(t){return e.handleMonthKeyDown(t)}),this.$fastprev.keydown(function(t){return e.handleFastPrevKeyDown(t)}),this.$prev.keydown(function(t){return e.handlePrevKeyDown(t)}),this.$next.keydown(function(t){return e.handleNextKeyDown(t)}),this.$fastnext.keydown(function(t){return e.handleFastNextKeyDown(t)}),1==this.options.modal&&(this.$close.click(function(t){return e.handleCloseClick(t)}),this.$close.keydown(function(t){return e.handleCloseKeyDown(t)})),this.$grid.keydown(function(t){return e.handleGridKeyDown(t)}),this.$grid.keypress(function(t){return e.handleGridKeyPress(t)}),this.$grid.focus(function(t){return e.handleGridFocus(t)}),this.$grid.blur(function(t){return e.handleGridBlur(t)}),this.$grid.delegate("td","click",function(t){return e.handleGridClick(this,t)}),this.$target.change(function(){var a=e.parseDate(t(this).val());e.updateLinked(a)})},o.prototype.handleFastPrevClick=function(t){if(this.showDaysOfPrevYear()){var e=this.$grid.attr("aria-activedescendant");this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))}return t.stopPropagation(),!1},o.prototype.handlePrevClick=function(t){var e=this.$grid.attr("aria-activedescendant");switch(this.gridType){case 0:(t.ctrlKey?this.showDaysOfPrevYear():this.showDaysOfPrevMonth())&&(this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 1:this.showMonthsOfPrevYear()&&(this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 2:this.showYearsOfPrevRange()&&(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id))}return t.stopPropagation(),!1},o.prototype.handleMonthClick=function(t){return this.changeGrid(t),t.stopPropagation(),!1},o.prototype.handleNextClick=function(t){var e=this.$grid.attr("aria-activedescendant");switch(this.gridType){case 0:(t.ctrlKey?this.showDaysOfNextYear():this.showDaysOfNextMonth())&&(this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 1:this.showMonthsOfNextYear()&&(this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 2:this.showYearsOfNextRange()&&(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id))}return t.stopPropagation(),!1},o.prototype.handleFastNextClick=function(t){if(this.showDaysOfNextYear()){var e=this.$grid.attr("aria-activedescendant");this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))}return t.stopPropagation(),!1},o.prototype.handleCloseClick=function(t){return this.hide(),t.stopPropagation(),!1},o.prototype.handleFastPrevKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||(t.shiftKey?this.$close.focus():this.$prev.focus(),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:return!(!t.shiftKey&&!t.ctrlKey)||(this.showDaysOfPrevYear(),t.stopPropagation(),!1);case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},o.prototype.handlePrevKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||(t.shiftKey?0==this.gridType?this.$fastprev.focus():this.$close.focus():this.$monthObj.focus(),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:if(t.shiftKey)return!0;switch(this.gridType){case 0:t.ctrlKey?this.showDaysOfPrevYear():this.showDaysOfPrevMonth();break;case 1:this.showMonthsOfPrevYear();break;case 2:this.showYearsOfPrevRange()}return t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},o.prototype.handleMonthKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||(t.shiftKey?this.$prev.focus():this.$next.focus(),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:return this.changeGrid(t),t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},o.prototype.handleNextKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||(t.shiftKey?this.$monthObj.focus():0==this.gridType?this.$fastnext.focus():this.$grid.focus(),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:switch(this.gridType){case 0:t.ctrlKey?this.showDaysOfNextYear():this.showDaysOfNextMonth();break;case 1:this.showMonthsOfNextYear();break;case 2:this.showYearsOfNextRange()}return t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},o.prototype.handleFastNextKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||(t.shiftKey?this.$next.focus():this.$grid.focus(),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:return this.showDaysOfNextYear(),t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},o.prototype.handleCloseKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!!t.ctrlKey||(t.shiftKey?this.$grid.focus():0==this.gridType?this.$fastprev.focus():this.$prev.focus(),t.stopPropagation(),!1);case this.keys.enter:case this.keys.esc:case this.keys.space:return!(!t.shiftKey&&!t.ctrlKey)||(this.hide(),t.stopPropagation(),!1)}return!0},o.prototype.handleGridKeyDown=function(a){var i,s,r,n,o,l=t("#"+this.$grid.attr("aria-activedescendant")),h=this.$grid.find("td.selectable"),d=this.$grid.find("tbody tr").eq(0).find("td").length;if(a.altKey&&a.keyCode!=this.keys.pageup&&a.keyCode!=this.keys.pagedown)return!0;switch(a.keyCode){case this.keys.tab:return 1==this.options.modal?(a.shiftKey?0==this.gridType?this.$fastnext.focus():this.$next.focus():this.$close.focus(),a.stopPropagation(),!1):(this.hide(),this.handleTabOut(a),a.stopPropagation(),!1);case this.keys.enter:case this.keys.space:if(a.ctrlKey)return!0;switch(this.gridType){case 0:this.update(),this.hide();break;case 1:this.showDaysOfMonth(parseInt(l.attr("data-value"),10));break;case 2:this.showMonthsOfYear(parseInt(l.attr("data-value"),10))}return a.stopPropagation(),!1;case this.keys.esc:return this.hide(),a.stopPropagation(),!1;case this.keys.left:case this.keys.right:if(a.keyCode==this.keys.left&&"LTR"===this.locales.directionality||a.keyCode==this.keys.right&&"RTL"===this.locales.directionality){if(a.ctrlKey||a.shiftKey)return!0;if(u=null,(p=h.index(l)-1)>=0)u=h.eq(p),this.unSelectGridCell(l.attr("id")),this.$grid.attr("aria-activedescendant",u.attr("id")),this.selectGridCell(u.attr("id"));else switch(this.gridType){case 0:this.showDaysOfPrevMonth(0);break;case 1:this.showMonthsOfPrevYear(0);break;case 2:this.showYearsOfPrevRange(0)}return a.stopPropagation(),!1}if(a.ctrlKey||a.shiftKey)return!0;if(i=null,(p=h.index(l)+1)<h.length)i=h.eq(p),this.unSelectGridCell(l.attr("id")),this.$grid.attr("aria-activedescendant",i.attr("id")),this.selectGridCell(i.attr("id"));else switch(this.gridType){case 0:this.showDaysOfNextMonth(1);break;case 1:this.showMonthsOfNextYear(1);break;case 2:this.showYearsOfNextRange(1)}return a.stopPropagation(),!1;case this.keys.up:if(a.ctrlKey||a.shiftKey)return!0;for(var c,p=(c=this.$grid.find("td")).index(l)-d,u=null;p>=0&&!c.eq(p).hasClass("selectable");)p--;if(p>=0)u=c.eq(p),this.unSelectGridCell(l.attr("id")),this.$grid.attr("aria-activedescendant",u.attr("id")),this.selectGridCell(u.attr("id"));else switch(p=d-c.index(l)%d,this.gridType){case 0:this.showDaysOfPrevMonth(p);break;case 1:this.showMonthsOfPrevYear(p);break;case 2:this.showYearsOfPrevRange(p)}return a.stopPropagation(),!1;case this.keys.down:if(a.ctrlKey||a.shiftKey)return!0;for(p=(c=this.$grid.find("td")).index(l)+d;p<c.length&&!c.eq(p).hasClass("selectable");)p++;if(p<c.length)i=c.eq(p),this.unSelectGridCell(l.attr("id")),this.$grid.attr("aria-activedescendant",i.attr("id")),this.selectGridCell(i.attr("id"));else switch(p=c.index(l)%d+1,this.gridType){case 0:this.showDaysOfNextMonth(p);break;case 1:this.showMonthsOfNextYear(p);break;case 2:this.showYearsOfNextRange(p)}return a.stopPropagation(),!1;case this.keys.pageup:if(s=this.$grid.attr("aria-activedescendant"),a.shiftKey||a.ctrlKey)return!0;switch(a.preventDefault(),r=!1,this.gridType){case 0:a.altKey?(a.stopImmediatePropagation(),r=this.showDaysOfPrevYear()):r=this.showDaysOfPrevMonth();break;case 1:r=this.showMonthsOfPrevYear();break;case 2:r=this.showYearsOfPrevRange()}return r&&(t("#"+s).attr("id")==e?(o=(h=this.$grid.find("td.selectable")).eq(h.length-1),this.$grid.attr("aria-activedescendant",o.attr("id")),this.selectGridCell(o.attr("id"))):this.selectGridCell(s)),a.stopPropagation(),!1;case this.keys.pagedown:if(s=this.$grid.attr("aria-activedescendant"),a.shiftKey||a.ctrlKey)return!0;switch(a.preventDefault(),r=!1,this.gridType){case 0:a.altKey?(a.stopImmediatePropagation(),r=this.showDaysOfNextYear()):r=this.showDaysOfNextMonth();break;case 1:r=this.showMonthsOfNextYear();break;case 2:r=this.showYearsOfNextRange()}return r&&(t("#"+s).attr("id")==e?(o=(h=this.$grid.find("td.selectable")).eq(h.length-1),this.$grid.attr("aria-activedescendant",o.attr("id")),this.selectGridCell(o.attr("id"))):this.selectGridCell(s)),a.stopPropagation(),!1;case this.keys.home:return!(!a.ctrlKey&&!a.shiftKey)||(n=h.eq(0),this.unSelectGridCell(l.attr("id")),this.$grid.attr("aria-activedescendant",n.attr("id")),this.selectGridCell(n.attr("id")),a.stopPropagation(),!1);case this.keys.end:return!(!a.ctrlKey&&!a.shiftKey)||(o=h.eq(h.length-1),this.unSelectGridCell(l.attr("id")),this.$grid.attr("aria-activedescendant",o.attr("id")),this.selectGridCell(o.attr("id")),a.stopPropagation(),!1)}return!0},o.prototype.handleGridKeyPress=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:case this.keys.enter:case this.keys.space:case this.keys.esc:case this.keys.left:case this.keys.right:case this.keys.up:case this.keys.down:case this.keys.pageup:case this.keys.pagedown:case this.keys.home:case this.keys.end:return t.stopPropagation(),!1}return!0},o.prototype.handleGridClick=function(e,a){var i=t(e);if(i.is(".empty")||i.is(".unselectable"))return!0;switch(this.$grid.find(".focus").removeClass("focus").attr("aria-selected","false").attr("tabindex",-1),this.gridType){case 0:this.$grid.attr("aria-activedescendant",i.attr("id")),this.selectGridCell(i.attr("id")),this.update(),this.hide();break;case 1:this.showDaysOfMonth(parseInt(i.attr("data-value"),10));break;case 2:this.showMonthsOfYear(parseInt(i.attr("data-value"),10))}return a.stopPropagation(),!1},o.prototype.handleGridFocus=function(){var a,i,s=this.$grid.attr("aria-activedescendant");return t("#"+s).attr("id")==e?(i=(a=this.$grid.find("td.selectable")).eq(a.length-1),this.$grid.attr("aria-activedescendant",i.attr("id")),this.selectGridCell(i.attr("id"))):this.selectGridCell(s),!0},o.prototype.handleGridBlur=function(){return this.unSelectGridCell(this.$grid.attr("aria-activedescendant")),!0},o.prototype.handleTabOut=function(e){var a=t("body").find(":input:visible:not([disabled], .datepicker-button), a[href]:visible:not([disabled], .datepicker-button)"),i=a.index(this.$target);return i>-1&&i<a.length&&(e.shiftKey?i>0&&i--:i+1<a.length&&i++,a.eq(i).focus()),!0},o.prototype.changeGrid=function(t){var e;switch(this.gridType){case 0:this.populateMonthsCalendar(),this.year!=this.curYear?(e=this.$grid.find("td.selectable"),this.$grid.attr("aria-activedescendant",e.eq(0).attr("id"))):this.$grid.attr("aria-activedescendant",this.$grid.find(".curMonth").attr("id")),this.selectGridCell(this.$grid.attr("aria-activedescendant"));break;case 2:t.shiftKey?this.year-=20:this.year+=20;case 1:this.populateYearsCalendar(),this.year!=this.curYear?(e=this.$grid.find("td.selectable"),this.$grid.attr("aria-activedescendant",e.eq(0).attr("id"))):this.$grid.attr("aria-activedescendant",this.$grid.find(".curYear").attr("id")),this.selectGridCell(this.$grid.attr("aria-activedescendant"))}return!0},o.prototype.selectGridCell=function(e){t("#"+e).addClass("focus").attr("aria-selected","true").attr("tabindex",0).focus()},o.prototype.unSelectGridCell=function(e){t("#"+e).removeClass("focus").attr("aria-selected","false").attr("tabindex",-1)},o.prototype.update=function(){var e=t("#"+this.$grid.attr("aria-activedescendant")),a=new Date(this.year,this.month,parseInt(e.attr("data-value"),10)),i=this.formatDate(a,this.options.outputFormat);this.$target.val(i),this.$target.removeAttr("aria-invalid"),this.$target.parents(".form-group").removeClass("has-error"),this.$target.trigger("change"),this.options.onUpdate&&this.options.onUpdate(i)},o.prototype.updateLinked=function(t){var e,a;null!==this.options.previous&&""!==this.options.previous.val()&&(this.options.previous.datepicker("getDate")>t&&(e=this.formatDate(t,this.options.previous.datepicker("outputFormat")),this.options.previous.val(e))),null!==this.options.next&&""!==this.options.next.val()&&(this.options.next.datepicker("getDate")<t&&(a=this.formatDate(t,this.options.next.datepicker("outputFormat")),this.options.next.val(a))),null!==this.options.next&&this.options.next.datepicker("min",t)},o.prototype.hideObject=function(t){t.attr("aria-hidden",!0),t.hide()},o.prototype.showObject=function(t){t.attr("aria-hidden",!1),t.show()},o.prototype.show=function(){var e,a=this;t(".datepicker-calendar").trigger("ab.datepicker.opening",[a.id]),1==this.options.modal?(this.modalEventHandler||(this.modalEventHandler=function(t){return a.$grid.focus(),t.stopPropagation,!1}),t(document).on("click mousedown mouseup",this.modalEventHandler),this.greyOut(!0),e=parseInt(t("#datepicker-overlay").css("z-index"),10)||40,this.$calendar.css("z-index",e+1)):(t(document).on("click",t.proxy(this.handleDocumentClick,this)),this.$calendar.on("ab.datepicker.opening",function(t,e){e!=a.id?a.hide():a.$grid.focus()})),this.$calendar.on("ab.datepicker.opened",function(t,e){e==a.id&&a.$grid.focus()});var i=Math.max(0,Math.floor(this.$group[0].offsetTop)),s=Math.max(0,Math.floor(this.$group[0].offsetLeft+this.$target[0].offsetLeft)),r=this.$calendar.outerHeight(),n=this.$group.offset().top,o=this.$group.outerHeight(!0),l=Math.floor(n-t(window).scrollTop()),h=Math.floor(t(window).height()-(n+o-t(window).scrollTop()));h<r&&h<l?(this.$calendar.addClass("above"),this.$calendar.css({top:i-r+"px",left:s+"px"})):(this.$calendar.addClass("below"),this.$calendar.css({top:i+o+"px",left:s+"px"})),this.$calendar.attr("aria-hidden","false"),this.$calendar.fadeIn(),t(".datepicker-calendar").trigger("ab.datepicker.opened",[a.id])},o.prototype.refresh=function(){switch(this.drawCalendarHeader(),this.gridType){case 0:this.populateDaysCalendar();break;case 1:this.populateMonthsCalendar();break;case 2:this.populateYearsCalendar()}},o.prototype.handleDocumentClick=function(e){return 0==t(e.target).parents("#datepicker-calendar-"+this.id).length?(this.hide(),!0):(this.$grid.focus(),e.stopPropagation,!1)},o.prototype.hide=function(e){if(0==this.options.inline){1==this.options.modal?(this.modalEventHandler&&t(document).off("click mousedown mouseup",this.modalEventHandler),this.greyOut(!1)):(t(document).off("click",this.handleDocumentClick),this.$calendar.off("ab.datepicker.opening")),this.$calendar.removeClass("above below"),this.$calendar.attr("aria-hidden","true"),this.$calendar.fadeOut(),t(".datepicker-calendar").trigger("ab.datepicker.closed",[this.id]),e||this.$target.focus()}},o.prototype.greyOut=function(e){var a=t("#datepicker-overlay");0==a.length&&e&&(t("body").append('<div id="datepicker-overlay" class="datepicker-overlay"></div>'),a=t("#datepicker-overlay")),e?a.fadeIn(500):a.fadeOut(500)},o.prototype.getDaysInMonth=function(t,e){return 32-new Date(t,e,32).getDate()},o.prototype.previousMonth=function(t,e){return 0==e?(e=11,t--):e--,{year:t,month:e}},o.prototype.nextMonth=function(t,e){return 11==e?(e=0,t++):e++,{year:t,month:e}},o.prototype.formatDate=function(t,e){var a=function(t){return(t<0||t>9?"":"0")+t},i=function(t){var e=new Date(t.getTime());return e.setHours(0),t-e},s=t.getFullYear()+"",r=t.getMonth()+1,n=t.getDate(),o=function(t){var e=new Date(t.getFullYear(),0,0);return Math.floor((t-e)/864e5)}(t),l=t.getDay(),h=t.getHours(),d=t.getMinutes(),c=t.getSeconds(),p=function(t){var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+e.getDay()+1)/7)}(t),u=function(t){return Math.ceil((t.getDate()-1-t.getDay())/7)}(t),b=Math.floor(t.getDate()/7)+1,y=Math.ceil((t.getMonth()+1)/3),f=t.getFullYear()<1?0:1,m={y:""+s,yyyy:s,yy:s.substring(2,4),L:r,LL:a(r),LLL:this.locales.month_names_abbreviated[r-1],LLLL:this.locales.month_names[r-1],LLLLL:this.locales.month_names_narrow[r-1],M:r,MM:a(r),MMM:this.locales.month_names_abbreviated[r-1],MMMM:this.locales.month_names[r-1],MMMMM:this.locales.month_names_narrow[r-1],d:n,dd:a(n),D:o,DD:o,DDD:o,A:Math.round(i(t)*Math.pow(10,-2)),AA:Math.round(i(t)*Math.pow(10,-1)),AAA:Math.round(i(t)*Math.pow(10,0)),AAAA:Math.round(i(t)*Math.pow(10,1)),AAAAA:Math.round(i(t)*Math.pow(10,2)),AAAAAA:Math.round(i(t)*Math.pow(10,3)),E:this.locales.day_names_abbreviated[l],EE:this.locales.day_names_abbreviated[l],EEE:this.locales.day_names_abbreviated[l],EEEE:this.locales.day_names[l],EEEEE:this.locales.day_names_narrow[l],EEEEEE:this.locales.day_names_short[l],e:l,ee:l,eee:this.locales.day_names_abbreviated[l],eeee:this.locales.day_names[l],eeeee:this.locales.day_names_narrow[l],eeeeee:this.locales.day_names_short[l],c:l,cc:l,ccc:this.locales.day_names_abbreviated[l],cccc:this.locales.day_names[l],ccccc:this.locales.day_names_narrow[l],cccccc:this.locales.day_names_short[l],F:b,G:this.locales.era_names_abbreviated[f],GG:this.locales.era_names_abbreviated[f],GGG:this.locales.era_names_abbreviated[f],GGGG:this.locales.era_names[f],GGGGG:this.locales.era_names_narrow[f],Q:y,QQ:a(y),QQQ:this.locales.quarter_names_abbreviated[y-1],QQQQ:this.locales.quarter_names[y-1],QQQQQ:this.locales.quarter_names_narrow[y-1],q:y,qq:a(y),qqq:this.locales.quarter_names_abbreviated[y-1],qqqq:this.locales.quarter_names[y-1],qqqqq:this.locales.quarter_names_narrow[y-1],H:h,HH:a(h),h:0==h?12:h>12?h-12:h,hh:a(0==h?12:h>12?h-12:h),K:h>11?h-12:h,k:h+1,KK:a(h>11?h-12:h),kk:a(h+1),a:h>11?this.locales.day_periods.pm:this.locales.day_periods.am,m:d,mm:a(d),s:c,ss:a(c),w:p,ww:a(p),W:u};return e.replace(/('[^']+'|y{1,4}|L{1,5}|M{1,5}|c{1,6}|d{1,2}|D{1,3}|E{1,6}|e{1,6}|F{1,1}|G{1,5}|Q{1,5}|q{1,5}|H{1,2}|h{1,2}|K{1,2}|k{1,2}|m{1,2}|s{1,2}|w{1,2}|W{1,1}|A{1,6})/g,function(t){return"'"===t.charAt(0)?t.substr(1,t.length-2):m[t]||t})},o.prototype.createDateFromFormat=function(e,a){var i=function(t,e,a,i){for(var s,r=i;r>=a;r--){if((s=t.substring(e,e+r)).length<a)return null;if(/^\d+$/.test(s))return s}return null},s=function(t,e){for(var i,s=0;s<t.length;s++)if(i=t[s],a.substring(e,e+i.length).toLowerCase()==i.toLowerCase())return i.length;return 0},r=0,n=new Date,o=n.getYear(),l=n.getMonth()+1,h=1,d=0,c=0,p=0,u="",b=this;if(t.each(e.match(/(.).*?\1*/g),function(t,e){var n,y,f,m;switch(e){case"yyyy":null!=(o=i(a,r,4,4))&&(r+=o.length);break;case"yy":null!=(o=i(a,r,2,2))&&(r+=o.length);break;case"y":null!=(o=i(a,r,2,4))&&(r+=o.length);break;case"MMM":case"LLL":for(l=0,n=0;n<b.locales.month_names_abbreviated.length;n++)if(y=b.locales.month_names_abbreviated[n],a.substring(r,r+y.length).toLowerCase()==y.toLowerCase()){l=n+1,r+=y.length;break}break;case"MMMM":case"LLLL":for(l=0,n=0;n<b.locales.month_names.length;n++)if(y=b.locales.month_names[n],a.substring(r,r+y.length).toLowerCase()==y.toLowerCase()){l=n+1,r+=y.length;break}break;case"EEE":case"EE":case"E":case"eee":r+=s(b.locales.day_names_abbreviated,r);break;case"EEEE":case"eeee":case"cccc":r+=s(b.locales.day_names,r);break;case"EEEEEE":case"eeeeee":case"cccccc":r+=s(b.locales.day_names_short,r);break;case"MM":case"M":case"LL":case"L":if(null==(l=i(a,r,e.length,2))||l<1||l>12)return null;r+=l.length;break;case"dd":case"d":if(null==(h=i(a,r,e.length,2))||h<1||h>31)return null;r+=h.length;break;case"hh":case"h":if(null==(d=i(a,r,e.length,2))||d<1||d>12)return null;r+=d.length;break;case"HH":case"H":if(null==(d=i(a,r,e.length,2))||d<0||d>23)return null;r+=d.length;break;case"KK":case"K":if(null==(d=i(a,r,e.length,2))||d<0||d>11)return null;r+=d.length;break;case"kk":case"k":if(null==(d=i(a,r,e.length,2))||d<1||d>24)return null;r+=d.length,d--;break;case"mm":case"m":if(null==(c=i(a,r,e.length,2))||c<0||c>59)return null;r+=c.length;break;case"ss":case"s":if(null==(p=i(a,r,e.length,2))||p<0||p>59)return null;r+=p.length;break;case"a":if(f=b.locales.day_periods.am.length,m=b.locales.day_periods.pm.length,a.substring(r,r+f)==b.locales.day_periods.am)u="AM",r+=f;else{if(a.substring(r,r+m)!=b.locales.day_periods.pm)return null;u="PM",r+=m}break;default:if(a.substring(r,r+e.length)!=e)return null;r+=e.length}}),r!=a.length||null==o||(2==o.length&&(o=o>50?+o+1900:+o+2e3),l<1||l>12))return null;if(2==l)if(o%4==0&&o%100!=0||o%400==0){if(h>29)return null}else if(h>28)return null;return(4==l||6==l||9==l||11==l)&&h>30?null:(d<12&&"PM"==u?d=+d+12:d>11&&"AM"==u&&(d-=12),new Date(o,l-1,h,d,c,p))},o.prototype.parseDate=function(e){var a=null,i=this;return t.each(this.options.inputFormat,function(t,s){return null==(a=i.createDateFromFormat(s,e))&&void 0}),null==a&&(a=i.createDateFromFormat(this.options.outputFormat,e)),a},o.prototype.min=function(t){return null!=t&&(this.options.min=t instanceof Date?t:this.parseDate(t),null!=this.options.min&&this.dateObj<this.options.min&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.min),0!=this.options.inline&&this.refresh()),this.options.min},o.prototype.max=function(t){return null!=t&&(this.options.max=t instanceof Date?t:this.parseDate(t),null!=this.options.max&&this.dateObj>this.options.max&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.max),0!=this.options.inline&&this.refresh()),this.options.max},o.prototype.next=function(e){return null!=e&&("string"==typeof e?this.options.next=t(e):this.options.next instanceof jQuery&&(this.options.next=e)),this.options.next},o.prototype.previous=function(e){return null!=e&&("string"==typeof e?this.options.previous=t(e):this.options.previous instanceof jQuery&&(this.options.previous=e)),this.options.previous},o.prototype.theme=function(t){return null!=t&&(this.$button.removeClass(this.options.theme),this.$calendar.removeClass(this.options.theme),this.options.theme=t,this.$button.addClass(this.options.theme),this.$calendar.addClass(this.options.theme)),this.options.theme},o.prototype.firstDayOfWeek=function(t){return null!=t&&(this.options.firstDayOfWeek=parseInt(t,10),0==this.options.inline?this.drawCalendarHeader():this.refresh()),this.options.firstDayOfWeek},o.prototype.daysOfWeekDisabled=function(e){if(null!=e){this.options.daysOfWeekDisabled=[],t.isArray(e)||(e=[e]);var a=this;t.each(e,function(t,e){"number"==typeof e?a.options.daysOfWeekDisabled.push(e):"string"==typeof e&&a.options.daysOfWeekDisabled.push(parseInt(e,10))})}return this.options.daysOfWeekDisabled},o.prototype.weekDayFormat=function(t){return null!=t&&(this.options.weekDayFormat=t,this.drawCalendarHeader()),this.options.weekDayFormat},o.prototype.inputFormat=function(e){return null!=e&&(t.isArray(e)||(e=[e]),this.$target.attr("placeholder")==this.options.inputFormat[0]&&this.$target.attr("placeholder",e[0]),this.options.inputFormat=e),this.options.inputFormat},o.prototype.outputFormat=function(t){return null!=t&&(this.options.outputFormat=t),this.options.outputFormat},o.prototype.modal=function(t){if(null!=t)if(this.options.modal=t,1==this.options.modal){0==this.options.inline&&(this.showObject(this.$calendar.find(".datepicker-close-wrap")),this.showObject(this.$calendar.find(".datepicker-bn-close-label"))),this.$close=this.$calendar.find(".datepicker-close"),this.$close.html(this.options.closeButtonTitle).attr("title",this.options.closeButtonLabel),this.$calendar.find(".datepicker-bn-close-label").html(this.options.closeButtonLabel);var e=this;this.$close.click(function(t){return e.handleCloseClick(t)}),this.$close.keydown(function(t){return e.handleCloseKeyDown(t)})}else this.hideObject(this.$calendar.find(".datepicker-close-wrap")),this.hideObject(this.$calendar.find(".datepicker-bn-close-label"));return this.options.modal},o.prototype.inline=function(e){if(null!=e)if(0!=e){this.hideObject(this.$button),this.hideObject(this.$calendar.find(".datepicker-close-wrap")),this.hideObject(this.$calendar.find(".datepicker-bn-close-label")),("string"==typeof e?t("#"+e):e).append(this.$calendar),this.$calendar.css({position:"relative",left:"0px",top:"0px"}),this.options.inline=e,this.initializeDate(),this.showObject(this.$calendar)}else this.$target.parent().after(this.$calendar),this.showObject(this.$button),1==this.options.modal&&(this.showObject(this.$calendar.find(".datepicker-close-wrap")),this.showObject(this.$calendar.find(".datepicker-bn-close-label"))),"static"===this.$calendar.parent().css("position")&&this.$calendar.parent().css("position","relative"),this.$calendar.css({position:"absolute"}),this.options.inline=e,this.hide();return this.options.inline},o.prototype.format=function(t){return this.formatDate(t,this.options.outputFormat)},o.prototype.enable=function(){this.$button.removeClass("disabled"),this.$button.attr("aria-disabled",!1),this.$button.attr("tabindex",0)},o.prototype.disable=function(){this.hide(),this.$button.addClass("disabled"),this.$button.attr("aria-disabled",!0),this.$button.attr("tabindex",-1)},o.prototype.datesDisabled=function(e){this.options.datesDisabled=[],t.isArray(e)||(e=[e]);var a=this;t.each(e,function(t,e){if("string"==typeof e){var i=a.parseDate(e);null!==i&&a.options.datesDisabled.push(a.format(i))}else e instanceof Date&&!isNaN(e.valueOf())&&a.options.datesDisabled.push(a.format(e))})},o.prototype.startview=function(t){switch(t){case 1:case"months":this.options.startView=1;break;case 2:case"years":this.options.startView=2;break;default:this.options.startView=0}},o.prototype.setLocales=function(t){this.locales=t,this.options.inputFormat=[this.locales.short_format],this.options.outputFormat=this.locales.short_format,this.options.titleFormat=this.locales.full_format,this.options.firstDayOfWeek=this.locales.firstday_of_week,this.options.buttonTitle=this.locales.texts.buttonTitle,this.$button.find("span").attr("title",this.options.buttonTitle),this.options.buttonLabel=this.locales.texts.buttonLabel,this.options.prevButtonLabel=this.locales.texts.prevButtonLabel,this.options.prevMonthButtonLabel=this.locales.texts.prevMonthButtonLabel,this.options.prevYearButtonLabel=this.locales.texts.prevYearButtonLabel,this.options.nextButtonLabel=this.locales.texts.nextButtonLabel,this.options.nextMonthButtonLabel=this.locales.texts.nextMonthButtonLabel,this.options.nextYearButtonLabel=this.locales.texts.nextYearButtonLabel,this.options.changeMonthButtonLabel=this.locales.texts.changeMonthButtonLabel,this.options.changeYearButtonLabel=this.locales.texts.changeYearButtonLabel,this.options.changeRangeButtonLabel=this.locales.texts.changeRangeButtonLabel,this.options.closeButtonTitle=this.locales.texts.closeButtonTitle,this.options.closeButtonLabel=this.locales.texts.closeButtonLabel,this.options.calendarHelp=this.locales.texts.calendarHelp,this.drawCalendarHeader(),"RTL"===this.locales.directionality?this.$grid.addClass("rtl"):this.$grid.removeClass("rtl")},a=t.fn.datepicker,t.fn.datepicker=function(e,a){var i,s;return"string"!=typeof e||1!=t(this).length?this.each(function(){var i=t(this),s=i.data("ab.datepicker"),r=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);s||i.data("ab.datepicker",s=new o(this,r)),"string"==typeof e&&s[e](a)}):(i=t(this).eq(0).data("ab.datepicker"))?i[e](a):(s=t(this),void setTimeout(function(){var t=s.eq(0).data("ab.datepicker");if(t)return t[e](a)},0))},t.fn.datepicker.Constructor=o,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=a,this}});